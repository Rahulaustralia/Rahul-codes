<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
       <h1>promises</h1>
       <script>
        //  let x=  new Promise((resolve,reject)=>{
        //     let no=Math.trunc(Math.random()*10)  //9
        //     console.log('random no',no)
        //     if(no>5)
        //     {
        //         resolve(' hii i  am resolve block')
        //     }
        //     else{
        //         reject(' hhii i am reject block')
        //     }
        //  })
        // //1st way to consume
        // x.then((item)=>{
        //     console.log(item)c
        // data=3
        // console.log(data)

        //2.
        // let data=new Promise((rej,res)=>{
        //        res({name:"utsav"})
        // }).then(()=>{
        //     console.log('hii i am then')
        // }).catch(()=>{
        //     console.log('hii i am catch')
        // })

        //3.
        // let data=new Promise((resolve,reject)=>{
        //     console.log('helllo')
        //     setTimeout(()=>{ 
        //         console.log('hello1')
        //         resolve('hello2')
        //     },2000)
        //     console.log('hello6')
        // })
        // data.then((data)=>{
        //     setTimeout(()=>{
        //         console.log('hello3',data)
        //     },2000)
        //     console.log('hello5')
        //     })
        // console.log('hello 4')

                  //custom handler
        //  let x=new Promise((res,rej)=>{
        //     let x=1;
        //     if(x>2)
        //     {
        //         res('hello')
        //     }
        //     else{
        //         rej('error')
        //     }
        //  })
         
        //  x.then(handleresolve,handlereject)
        //  function handleresolve(data)
        //  {
        //     console.log('hii i am resolve',data)
        //  }
        //  function handlereject(e)
        //  {
        //     console.log('hii i am reject',e)
        //  }

            function checkmail()
            {
                return new Promise((res,rej)=>{
                    if(Math.random()>0.5)
                    {
                        res('mail has arrived')
                    }
                    else
                    {
                         rej('mail has not arrived') 
                    }
                })
            }
            checkmail().then((mail)=>{
                console.log(mail)
            }).catch((err)=>{
                console.log(err)
            }).finally(()=>{
                console.log('experiment done')
            })
       </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"
    />
    <!-- MDB -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.css"
      rel="stylesheet"
    />
    <title>ToDo list</title>
  </head>

  <body>
    <div class="row m-3">
      <div class="col-4">
        <div class="form-outline">
          <input type="text" id="msg" class="form-control form-control-lg" />
          <label class="form-label" for="msg">Add Your Message</label>
        </div>
        <button
          type="button"
          id="btn"
          class="btn btn-outline-success mt-3"
          data-mdb-ripple-color="dark"
        >
          Add
        </button>
      </div>
    </div>
    <hr />
    <div class="row d-flex justify-content-center" id="body"></div>

    <script>
      let btn = document.getElementById("btn");
      let msg = document.getElementById("msg");
      let body = document.getElementById("body");
      let globalarr = [];

      print();
      btn.addEventListener("click", () => {
        if (msg.value) {
          let data = {
            id: Math.trunc(Math.random() * 1000),
            msg: msg.value,
          };
          globalarr.unshift(data);
          msg.value = "";
          print();
        } else {
          alert("plz enter some thing");
        }
      });

      function print() {
        let str = "";
        if (globalarr.length == 0) {
          str += `<p class="h2 d-flex justify-content-center">No Data Found</p>`;
        } else {
          globalarr.map((data, index) => {
            str += `<div class="col-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title text-light p-2">${data.msg}</h5>
                                    <button type="button" class="btn btn-danger" onclick='deleteHandler(${data.id})'>Delete</button>
                                    <button type="button" class="btn btn-primary" onclick='updateHandler(${data.id})'>edit</button>
                                </div>
                            </div>
                        </div>`;
          });
        }
        body.innerHTML = str;
      }
      function deleteHandler(id) {
        globalarr = globalarr.filter((data) => data.id !== id);
        print();
      }
      function updateHandler(id) {
        console.log(id);
      }
    </script>
    <!-- MDB -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.js"
    ></script>
    <acronym title=""></acronym>
  </body>
</html>
